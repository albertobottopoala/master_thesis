\chapter{Code Description}
\section{Code Overview}

The code we used is called SLH (Seven League Hydro). It was originally developed by Dr. Fabian Miczek during his PhD thesis (2013). SLH is a finite-volume multidimensional code that solves Euler equations (Ideal Hydrodynamic) using explicit or implicit methods. The advantage of implicit methods lies in the fact that the time step is constantly redefined optimizing computational resources using the so called cfl criterion for numerical stability. In this case a non-linear system of equations is solved using the Newton-Ralphson method, in which at every time step a linear system is solved through the Krylov subspace methods. The efficiency of all these computational methods is strongly dependent on the type of linear system solved and the cluster architecture used. \\
From the point of view of simulation domain SLH allows to implement a general curvilinear grid instead of a simple Cartesian one by defining a metric, the elements of which are needed to correctly compute the fluxes at the cells interfaces. The code decomposes automatically the domain to parallelize the computation on the desired number of processors, using MPI and openMP. A wide choice of boundary conditions are implemented. \\
Furthermore SLH implements a general equation of state, a nuclear reaction network, passive and active scalar which are fundamental for the study of the chemical composition of the fluid, radiation in the diffusion limit and thermal conduction. \\
Over the years SHL has undergone several scaling tests, the most remarkable of which at the JÃ¼lich Supercomputing Center (JSC) in 2016 where it scaled over all the $458752$ cores of \textit{JUQUEEN} (a Blue Gene machine, currently the last generation of IBM supercomputers).

\section{Finite Volume Discretization}
In order to discretize the physical domain we employ a set of curvilinear coordinates $\xi, \eta, \zeta$. This set is partitioned by a regular, equidistant grid wich $N_{\xi} \times N_{\eta} \times N_{\zeta}$ cells. Without loss of generality, we define the domani extent such that
\begin{equation}
\begin{split}
\xi \in [1/2, N_{\xi} + 1/2] \\
\eta \in [1/2, N_{\eta} + 1/2] \\
\zeta \in [1/2, N_{\zeta} + 1/2] 
\end{split}
\end{equation}
We are hence here imposing that the cells volume is constant, i.e. $\Delta \xi = \Delta \eta = \Delta \zeta = 1$ in order to simplify some calculations. This might in general not be the case, since SLH allows the user to call a general curvilinear grid. In this particular case integer values of coordinates refer to cell centers, half integer to cell faces, e.g. by $(\xi, \eta, \zeta) = (i, j + 1/2, k)$ we refer to the interface at the right-hand side of cell $(i, j, k)$.

Both for analytic and numerical study of Euler equations, it is useful to wirk in a dimensionless workframe. This is achieved by decomposing state variables into two parts, namely a reference value (denoted with an r) and a dimensionless number (denoted with a hat), e.g. $\rho = \rho_r \cdot \hat{\rho}$. This leads to a state vector 
\begin{equation}
\frac{\partial \mathbf{\hat{U}}}{\partial \hat{t}} + \frac{\partial \mathbf{\hat{F}}_x}{\partial \hat{x}} + \frac{\partial \mathbf{\hat{F}}_y}{\partial \hat{y}} + \frac{\partial \mathbf{\hat{F}}_z}{\partial \hat{z}} = \mathbf{\hat{S}}
\end{equation}
where the quantities $\mathbf{\hat{U}}$, $\mathbf{\hat{F}}_x$, $\mathbf{\hat{F}}_y$ and $\mathbf{\hat{F}}_z$ are defined by the stress-energy tensor as discussed in the previous chapter. From now on for simplicity we will drop the hat notation. We discretize \textit{in space} Euler equation as 
\begin{equation}
J^{-1}\frac{\partial \mathbf{U}}{\partial t} + \nabla_{\xi, \eta, \zeta} \cdot \mathbf{F} = j^{-1} \mathbf{S}
\end{equation}
where $J$ is the determinant of the jacobian of the transformation from the physical domain to the computational grid.

Theese equations are integrated over the volume $\Omega_{i, j, k} = \Delta \xi \times \Delta \eta \times \Delta \zeta $ of the cell $(i, j, k)$, which in our assumptions is constant for every cell (differentially $d \Omega = d \xi \times d \eta \times d \zeta$) of the cell $(i, j, k)$.
\section{Esplicit vs. Implicit Time Stepping}


\section{Newton-Raphson Method}

